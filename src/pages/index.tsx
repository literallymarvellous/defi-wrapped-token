import type { NextPage } from "next";
import Head from "next/head";
import { useEffect, useRef } from "react";
import useFetchEvents from "../hooks/useFetchEvents";
import {
  contract,
  getBlockNumber,
  getEvents,
  getMintEvents,
} from "../utils/ethersSetup";

const Home: NextPage = () => {
  // const events = useRef<any[]>([]);

  const { events } = useFetchEvents("Mint");

  useEffect(() => {
    // getMintEvents().then((res) => {
    //   events.current = [...events.current, ...res];
    //   console.log("res", res);
    // });
    // getEvents().then((res) => {
    //   events.current = [...events.current, ...res];
    //   console.log("res", res);
    // })
  }, []);

  return (
    <div>
      <Head>
        <title>Wbtc dashboard</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <div>Hello</div>
    </div>
  );
};

export default Home;
